c
r1.valid?
r2.valid?
f2
r1
c
r2
r1
r2.valid?
c
r2.valid?
r2.valid
r2
r1
c
Reservation.all
Reservation
r1
listing
r1
r2.valid?
c
params
c
params
c
params
c
params
c
cc
params
c
params
c
params
c
params
c
params
c
params
c
params
c
params
c
action
c
@listing
c
action
c
action
c
action
actin
c
action
c
action
c
controller
action
c
@errors[0]
c
@errors
c
render 'listings/show'
@errors
c
@reservation
c
current_user
c
listing
c
post :create, :reservation => {num_guests: 3, start_date: Date.new(2017,1,22), end_date: Date.new(2017,1,25), user_id: user.id, listing_id: listing.id}
post :create, :reservation => valid_reservation_params
:reservation
c
params
c
valid_reservation_params
reservation
c
listing.reservations
listing
c
listing
c
r2.valid?
r1.valid?
r1
r2
c
r2.valid?c
r2.valid?
r2
Reservation.last
r1
c
Reservation.all
Reservation.last
r1
c
Reservation.all
c
r2.errors
r2.valid?
r2
c
r1
r2
c
r1.valid?
r2.valid?
r2
f2
c
r2.valid?
r2
r1
c
r2
r1
r2.saved?
r2.save?
r2.errors
r2.valid?
r1.valid?
r2.valid?
r2.errors
r2
r1
c
r2
r2.valid?
r2.valid
r2.errors
r2
r1
c
r2
r1
c
r1
c
listing
user
c
listing
c
@reservation
result
c
@reservation.errors
@reservation.error
@reservation.valid?
@reservation.save
@reservation.paid = true
@reservation
result
c
reservation.save
reservation.paid ^= true
reservation.update(paid: 1)
reservation.update(paid: true)
reservation.paid
reservation.status
reservation.save
reservation.paid = true
reservation
c
reservation
c
@reservation.save
@reservation.paid
@reservation.update(paid: true)
@reservation
c
@reservation
result
@payment
c
result
c
result.transaction.amount
result.transaction
result.transaction.credit_card_details
result.transaction.credit_card_details.
result.transaction.id
result.transaction.
result.transaction.credit_card_details.card_type
result.transaction.credit_card_details
result.transaction.card_type
result.transaction
result
c
params
c
params
c
params[:reservation_id]
params
params[:checkout_form][:cardholder_name]
params[:checkout_form]
params[checkout_form]
params
result
c
params
result
c
result
params
c
params
c
result
c
pp result
require 'pp'
result
c
nonce_from_the_client
result
c
@search
c
@search
c
@search
c
@search
c
@search
@listings
c
p 'a' if @search.city.present?
p 'a' if @search.keyword.present?
p 'a' if @search.keyword.not_present?
p 'a' if @search.keyword.!present?
p 'a' if @search.keyword.present?
p 'a' if @search.keyword.nil?
p 'a' if @listing.keyword.nil?
@search
c
@listings
c
@listin
self
self.city
@listing.city(self.city)
@listing.city
